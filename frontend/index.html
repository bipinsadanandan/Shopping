<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShopEase - Modern Shopping Experience</title>
    <link rel="stylesheet" href="css/styles.css">
    <!-- Add Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Modern Navigation -->
    <nav>
        <div class="container">
            <a href="#" class="nav-brand" onclick="navigateTo('home'); return false;">
                <i class="fas fa-shopping-bag"></i>
                ShopEase
            </a>
            
            <ul class="nav-menu">
                <li>
                    <a href="#" class="nav-link active" data-page="home" onclick="navigateTo('home'); return false;">
                        <i class="fas fa-home"></i> Home
                    </a>
                </li>
                <li>
                    <a href="#" class="nav-link" data-page="products" onclick="navigateTo('products'); return false;">
                        <i class="fas fa-box"></i> Products
                    </a>
                </li>
                <li>
                    <a href="#" class="nav-link" data-page="cart" onclick="navigateTo('cart'); return false;">
                        <i class="fas fa-shopping-cart"></i> Cart 
                        <span class="badge badge-primary" id="cart-badge">0</span>
                    </a>
                </li>
                <li id="admin-link" style="display: none;">
                    <a href="#" class="nav-link" data-page="admin" onclick="navigateTo('admin'); return false;">
                        <i class="fas fa-cog"></i> Admin
                    </a>
                </li>
                <li id="nav-auth">
                    <!-- Auth links will be inserted here -->
                </li>
            </ul>
        </div>
    </nav>

    <!-- Alert Container -->
    <div id="alert-container" style="position: fixed; top: 80px; right: 20px; z-index: 1100; max-width: 400px;"></div>

    <!-- Main Content -->
    <main class="container" style="margin-top: 2rem; margin-bottom: 2rem;">
        <!-- Home Section -->
      <section id="home-section" class="page-section">
    <!-- Hero Section -->
    <div class="hero-section">
        <div class="hero-content">
            <h1 class="hero-title">
                <span class="gradient-text">Welcome to ShopEase</span>
            </h1>
            <p class="hero-subtitle">Experience shopping redefined with our modern e-commerce platform</p>
            <div class="hero-buttons">
                <button class="btn btn-primary btn-lg" onclick="navigateTo('products')">
                    <span>Start Shopping</span>
                    <i class="arrow-icon">‚Üí</i>
                </button>
                <button class="btn btn-outline-primary btn-lg" onclick="navigateTo('register')">
                    Join Now
                </button>
            </div>
        </div>
        <div class="hero-image">
            <div class="floating-cards">
                <div class="float-card float-1">
                    <span class="emoji">üõçÔ∏è</span>
                    <p>1000+ Products</p>
                </div>
                <div class="float-card float-2">
                    <span class="emoji">‚ö°</span>
                    <p>Fast Delivery</p>
                </div>
                <div class="float-card float-3">
                    <span class="emoji">üí≥</span>
                    <p>Secure Payment</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Features Grid -->
    <div class="features-grid mt-5">
        <div class="feature-card">
            <div class="feature-icon">
                <span class="gradient-bg">üõí</span>
            </div>
            <h3>Smart Shopping Cart</h3>
            <p>Real-time updates, stock validation, and price tracking for seamless shopping</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">
                <span class="gradient-bg">üë•</span>
            </div>
            <h3>Multi-User System</h3>
            <p>Role-based access with dedicated customer and admin functionalities</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">
                <span class="gradient-bg">üîç</span>
            </div>
            <h3>Advanced Search</h3>
            <p>Find exactly what you need with powerful filters and smart search</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">
                <span class="gradient-bg">üìä</span>
            </div>
            <h3>Analytics Dashboard</h3>
            <p>Comprehensive insights for admins to track sales and performance</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">
                <span class="gradient-bg">üîí</span>
            </div>
            <h3>Secure Platform</h3>
            <p>JWT authentication, encrypted passwords, and secure transactions</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">
                <span class="gradient-bg">‚≠ê</span>
            </div>
            <h3>Review System</h3>
            <p>Share your experience with ratings and detailed product reviews</p>
        </div>
    </div>

    <!-- Stats Section -->
    <div class="stats-section">
        <div class="stat-card">
            <h2 class="stat-number" data-target="1000">0</h2>
            <p class="stat-label">Products</p>
        </div>
        <div class="stat-card">
            <h2 class="stat-number" data-target="500">0</h2>
            <p class="stat-label">Happy Customers</p>
        </div>
        <div class="stat-card">
            <h2 class="stat-number" data-target="98">0</h2>
            <p class="stat-label">Satisfaction %</p>
        </div>
        <div class="stat-card">
            <h2 class="stat-number" data-target="24">0</h2>
            <p class="stat-label">Hour Support</p>
        </div>
    </div>

    <!-- Test Accounts Card -->
    <div class="info-cards">
        <div class="info-card gradient-border">
            <h4>üß™ Test Accounts</h4>
            <div class="account-info">
                <div class="account">
                    <span class="account-type">Admin</span>
                    <p>admin@shopease.com</p>
                    <code>admin123</code>
                </div>
                <div class="account">
                    <span class="account-type">Customer</span>
                    <p>john@example.com</p>
                    <code>customer123</code>
                </div>
            </div>
        </div>
        <div class="info-card gradient-border">
            <h4>üöÄ Quick Start</h4>
            <ol class="quick-start-list">
                <li>Login with test account</li>
                <li>Browse our products</li>
                <li>Add items to cart</li>
                <li>Complete checkout</li>
                <li>Track your orders</li>
            </ol>
        </div>
    </div>
</section>

<!-- Add this CSS to your styles.css file -->
<style>
/* Hero Section */
.hero-section {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-2xl);
    padding: var(--spacing-2xl) 0;
    align-items: center;
}

.hero-title {
    font-size: 3.5rem;
    font-weight: 700;
    margin-bottom: var(--spacing-lg);
}

.gradient-text {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.hero-subtitle {
    font-size: var(--font-size-xl);
    color: var(--gray-600);
    margin-bottom: var(--spacing-xl);
}

.hero-buttons {
    display: flex;
    gap: var(--spacing-md);
}

.btn-lg {
    padding: var(--spacing-md) var(--spacing-xl);
    font-size: var(--font-size-lg);
}

.arrow-icon {
    margin-left: var(--spacing-sm);
    transition: var(--transition);
}

.btn:hover .arrow-icon {
    transform: translateX(5px);
}

/* Floating Cards */
.hero-image {
    position: relative;
    height: 400px;
}

.floating-cards {
    position: relative;
    width: 100%;
    height: 100%;
}

.float-card {
    position: absolute;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    padding: var(--spacing-lg);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-xl);
    text-align: center;
    transition: var(--transition);
}

.float-card:hover {
    transform: translateY(-10px);
}

.float-card .emoji {
    font-size: 3rem;
    display: block;
    margin-bottom: var(--spacing-sm);
}

.float-1 {
    top: 20px;
    left: 20px;
    animation: float1 6s ease-in-out infinite;
}

.float-2 {
    top: 50%;
    right: 20px;
    animation: float2 8s ease-in-out infinite;
}

.float-3 {
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    animation: float3 7s ease-in-out infinite;
}

@keyframes float1 {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
}

@keyframes float2 {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-15px) rotate(5deg); }
}

@keyframes float3 {
    0%, 100% { transform: translateX(-50%) translateY(0px); }
    50% { transform: translateX(-50%) translateY(-25px); }
}

/* Features Grid */
.features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--spacing-xl);
    margin-top: var(--spacing-2xl);
}

.feature-card {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    padding: var(--spacing-xl);
    border-radius: var(--radius-xl);
    text-align: center;
    transition: var(--transition);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.feature-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-xl);
}

.feature-icon {
    margin-bottom: var(--spacing-lg);
}

.feature-icon span {
    display: inline-flex;
    width: 80px;
    height: 80px;
    align-items: center;
    justify-content: center;
    font-size: 2.5rem;
    border-radius: var(--radius-xl);
}

.gradient-bg {
    background: var(--primary-gradient);
    box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
}

/* Stats Section */
.stats-section {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--spacing-xl);
    margin: var(--spacing-2xl) 0;
    padding: var(--spacing-2xl);
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px);
    border-radius: var(--radius-xl);
}

.stat-card {
    text-align: center;
}

.stat-number {
    font-size: 3rem;
    font-weight: 700;
    background: var(--primary-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: var(--spacing-sm);
}

.stat-label {
    color: var(--gray-600);
    font-size: var(--font-size-lg);
}

/* Info Cards */
.info-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--spacing-xl);
    margin-top: var(--spacing-2xl);
}

.info-card {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    padding: var(--spacing-xl);
    border-radius: var(--radius-xl);
    position: relative;
    overflow: hidden;
}

.gradient-border::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: var(--radius-xl);
    padding: 2px;
    background: var(--primary-gradient);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
}

.account-info {
    display: flex;
    gap: var(--spacing-xl);
    margin-top: var(--spacing-lg);
}

.account {
    flex: 1;
}

.account-type {
    display: inline-block;
    padding: var(--spacing-xs) var(--spacing-sm);
    background: var(--primary-gradient);
    color: var(--white);
    border-radius: var(--radius-sm);
    font-size: var(--font-size-sm);
    font-weight: 600;
    margin-bottom: var(--spacing-sm);
}

.account p {
    margin: var(--spacing-xs) 0;
    font-weight: 500;
}

.account code {
    display: block;
    padding: var(--spacing-sm);
    background: var(--gray-100);
    border-radius: var(--radius-sm);
    color: var(--primary-color);
    font-family: monospace;
}

.quick-start-list {
    margin-top: var(--spacing-lg);
    padding-left: var(--spacing-lg);
}

.quick-start-list li {
    margin-bottom: var(--spacing-sm);
    color: var(--gray-700);
}

/* Responsive */
@media (max-width: 768px) {
    .hero-section {
        grid-template-columns: 1fr;
        text-align: center;
    }
    
    .hero-title {
        font-size: 2.5rem;
    }
    
    .hero-buttons {
        justify-content: center;
    }
    
    .hero-image {
        margin-top: var(--spacing-xl);
    }
    
    .features-grid {
        grid-template-columns: 1fr;
    }
}
</style>

<!-- Add this script for number animation -->
<script>
// Animate numbers on scroll
function animateNumbers() {
    const numbers = document.querySelectorAll('.stat-number');
    
    numbers.forEach(number => {
        const target = parseInt(number.getAttribute('data-target'));
        const increment = target / 100;
        let current = 0;
        
        const updateNumber = () => {
            if (current < target) {
                current += increment;
                number.textContent = Math.ceil(current);
                requestAnimationFrame(updateNumber);
            } else {
                number.textContent = target;
            }
        };
        
        updateNumber();
    });
}

// Run animation when section is visible
const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            animateNumbers();
        }
    });
});

const statsSection = document.querySelector('.stats-section');
if (statsSection) {
    observer.observe(statsSection);
}
</script>

        <!-- Login Section -->
        <section id="login-section" class="page-section" style="display: none;">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-body" style="padding: 2rem;">
                            <h2 class="text-center mb-4">Welcome Back</h2>
                            <p class="text-center text-muted mb-4">Login to your account to continue shopping</p>
                            
                            <form id="login-form" onsubmit="handleLogin(event); return false;">
                                <div class="form-group">
                                    <label for="login-email" class="form-label">
                                        <i class="fas fa-envelope"></i> Email Address
                                    </label>
                                    <input type="email" class="form-control" id="login-email" 
                                           placeholder="Enter your email" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="login-password" class="form-label">
                                        <i class="fas fa-lock"></i> Password
                                    </label>
                                    <input type="password" class="form-control" id="login-password" 
                                           placeholder="Enter your password" required>
                                </div>
                                
                                <button type="submit" class="btn btn-primary btn-block btn-lg">
                                    <i class="fas fa-sign-in-alt"></i> Login
                                </button>
                            </form>
                            
                            <div class="text-center mt-4">
                                <p>Don't have an account? 
                                    <a href="#" onclick="navigateTo('register'); return false;">
                                        Create one here
                                    </a>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Register Section -->
        <section id="register-section" class="page-section" style="display: none;">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-body" style="padding: 2rem;">
                            <h2 class="text-center mb-4">Create Account</h2>
                            <p class="text-center text-muted mb-4">Join ShopEase for the best shopping experience</p>
                            
                            <form id="register-form" onsubmit="handleRegister(event); return false;">
                                <div class="form-group">
                                    <label for="register-username" class="form-label">
                                        <i class="fas fa-user"></i> Username
                                    </label>
                                    <input type="text" class="form-control" id="register-username" 
                                           placeholder="Choose a username" required minlength="3" 
                                           pattern="[a-zA-Z0-9_]+">
                                </div>
                                
                                <div class="form-group">
                                    <label for="register-email" class="form-label">
                                        <i class="fas fa-envelope"></i> Email Address
                                    </label>
                                    <input type="email" class="form-control" id="register-email" 
                                           placeholder="Enter your email" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="register-password" class="form-label">
                                        <i class="fas fa-lock"></i> Password
                                    </label>
                                    <input type="password" class="form-control" id="register-password" 
                                           placeholder="Create a password" required minlength="6">
                                    <small class="text-muted">Password must be at least 6 characters</small>
                                </div>
                                
                                <button type="submit" class="btn btn-primary btn-block btn-lg">
                                    <i class="fas fa-user-plus"></i> Create Account
                                </button>
                            </form>
                            
                            <div class="text-center mt-4">
                                <p>Already have an account? 
                                    <a href="#" onclick="navigateTo('login'); return false;">
                                        Login here
                                    </a>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Products Section -->
        <section id="products-section" class="page-section" style="display: none;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                <h2><i class="fas fa-box"></i> Products</h2>
                <div id="admin-product-controls" class="admin-only" style="display: none;">
                    <button class="btn btn-success" onclick="products.createProduct()">
                        <i class="fas fa-plus"></i> Add New Product
                    </button>
                </div>
            </div>
            
            <!-- Modern Filters -->
            <div class="card mb-4">
                <div class="card-body">
                    <h5 style="margin-bottom: 1rem;"><i class="fas fa-filter"></i> Filters</h5>
                    <div class="row">
                        <div class="col-md-3 mb-3">
                            <div class="form-group">
                                <label class="form-label">Search</label>
                                <div style="position: relative;">
                                    <input type="text" class="form-control" id="search-input" 
                                           placeholder="Search products..." onkeyup="handleSearch(event)"
                                           style="padding-left: 2.5rem;">
                                    <i class="fas fa-search" style="position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: var(--text-muted);"></i>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-2 mb-3">
                            <div class="form-group">
                                <label class="form-label">Category</label>
                                <select class="form-control" id="category-filter">
                                    <option value="">All Categories</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2 mb-3">
                            <div class="form-group">
                                <label class="form-label">Min Price</label>
                                <input type="number" class="form-control" id="min-price" 
                                       placeholder="0" min="0" step="0.01">
                            </div>
                        </div>
                        <div class="col-md-2 mb-3">
                            <div class="form-group">
                                <label class="form-label">Max Price</label>
                                <input type="number" class="form-control" id="max-price" 
                                       placeholder="999" min="0" step="0.01">
                            </div>
                        </div>
                        <div class="col-md-2 mb-3">
                            <div class="form-group">
                                <label class="form-label">Sort By</label>
                                <select class="form-control" id="sort-by">
                                    <option value="created_at-DESC">Newest First</option>
                                    <option value="price-ASC">Price: Low to High</option>
                                    <option value="price-DESC">Price: High to Low</option>
                                    <option value="name-ASC">Name: A to Z</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-1 mb-3">
                            <div class="form-group">
                                <label class="form-label">&nbsp;</label>
                                <button class="btn btn-primary btn-block" onclick="products.applyFilters()">
                                    <i class="fas fa-check"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Products Grid -->
            <div id="products-grid" class="products-grid">
                <!-- Products will be loaded here -->
            </div>
            
            <!-- Pagination -->
            <div id="products-pagination" class="mt-4"></div>
        </section>

        <!-- Cart Section -->
        <section id="cart-section" class="page-section" style="display: none;">
            <h2><i class="fas fa-shopping-cart"></i> Shopping Cart</h2>
            <div id="cart-content" style="margin-top: 2rem;">
                <!-- Cart items will be loaded here -->
            </div>
        </section>

        <!-- Orders Section -->
        <section id="orders-section" class="page-section" style="display: none;">
            <h2><i class="fas fa-receipt"></i> My Orders</h2>
            
            <!-- Status Filter -->
            <div class="mb-4" style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                <button class="btn btn-sm btn-outline-primary" onclick="orders.filterByStatus('')">
                    All Orders
                </button>
                <button class="btn btn-sm" style="background-color: #FEF3C7; color: #92400E;" onclick="orders.filterByStatus('pending')">
                    Pending
                </button>
                <button class="btn btn-sm" style="background-color: #DBEAFE; color: #1E40AF;" onclick="orders.filterByStatus('processing')">
                    Processing
                </button>
                <button class="btn btn-sm" style="background-color: #E0E7FF; color: #4338CA;" onclick="orders.filterByStatus('shipped')">
                    Shipped
                </button>
                <button class="btn btn-sm" style="background-color: #D1FAE5; color: #065F46;" onclick="orders.filterByStatus('delivered')">
                    Delivered
                </button>
                <button class="btn btn-sm" style="background-color: #FEE2E2; color: #991B1B;" onclick="orders.filterByStatus('cancelled')">
                    Cancelled
                </button>
            </div>
            
            <div id="orders-list">
                <!-- Orders will be loaded here -->
            </div>
            
            <!-- Pagination -->
            <div id="orders-pagination" class="mt-4"></div>
        </section>

        <!-- Profile Section -->
        <section id="profile-section" class="page-section" style="display: none;">
            <h2><i class="fas fa-user-circle"></i> My Profile</h2>
            <div id="profile-content" style="margin-top: 2rem;">
                <!-- Profile will be loaded here -->
            </div>
        </section>

        <!-- Admin Section -->
        <section id="admin-section" class="page-section" style="display: none;">
            <h2><i class="fas fa-tachometer-alt"></i> Admin Dashboard</h2>
            <div id="admin-content">
                <div class="row">
                    <div class="col-md-12">
                        <div class="card">
                            <div class="card-body">
                                <h3>Quick Actions</h3>
                                <div style="display: flex; gap: 1rem; margin-top: 1rem;">
                                    <button class="btn btn-primary" onclick="navigateTo('products')">
                                        <i class="fas fa-box"></i> Manage Products
                                    </button>
                                    <button class="btn btn-info" onclick="loadOrderAnalytics()">
                                        <i class="fas fa-chart-bar"></i> View Analytics
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="analytics-content" class="mt-4">
                    <!-- Analytics will be loaded here -->
                </div>
            </div>
        </section>
    </main>

    <!-- Modern Footer -->
    <footer style="background-color: var(--text-primary); color: white; padding: 2rem 0; margin-top: 4rem;">
        <div class="container text-center">
            <p style="margin: 0; color: white;">
                <i class="fas fa-shopping-bag"></i> ShopEase ¬© 2024 | Advanced Shopping Cart System
            </p>
            <p style="margin-top: 0.5rem; color: rgba(255,255,255,0.8); font-size: 0.875rem;">
                Built with ‚ù§Ô∏è using Node.js, Express, and SQLite
            </p>
        </div>
    </footer>

    <!-- JavaScript Files -->
    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/cart.js"></script>
    <script src="js/products.js"></script>
    <script src="js/orders.js"></script>
    
    <!-- Page Scripts -->
    <script>
        // Form Handlers
        function handleLogin(event) {
            event.preventDefault();
            if (validateForm('login-form')) {
                const email = document.getElementById('login-email').value;
                const password = document.getElementById('login-password').value;
                auth.login({ email, password });
            }
        }

        function handleRegister(event) {
            event.preventDefault();
            if (validateForm('register-form')) {
                const username = document.getElementById('register-username').value;
                const email = document.getElementById('register-email').value;
                const password = document.getElementById('register-password').value;
                auth.register({ username, email, password });
            }
        }

        // Admin Functions
        async function loadAdminDashboard() {
            showLoading('analytics-content');
            loadOrderAnalytics();
        }

        async function loadOrderAnalytics() {
            try {
                const response = await api.getOrderAnalytics();
                const analytics = response.analytics;
                
                const container = document.getElementById('analytics-content');
                container.innerHTML = `
                    <div class="row">
                        <div class="col-md-3 mb-4">
                            <div class="card" style="background-color: var(--success-color); color: white;">
                                <div class="card-body text-center">
                                    <h5>Total Revenue</h5>
                                    <h3>${analytics.summary.totalRevenue}</h3>
                                    <i class="fas fa-dollar-sign" style="font-size: 2rem; opacity: 0.3;"></i>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-4">
                            <div class="card" style="background-color: var(--primary-color); color: white;">
                                <div class="card-body text-center">
                                    <h5>Total Orders</h5>
                                    <h3>${analytics.summary.totalOrders}</h3>
                                    <i class="fas fa-shopping-bag" style="font-size: 2rem; opacity: 0.3;"></i>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-4">
                            <div class="card" style="background-color: var(--info-color); color: white;">
                                <div class="card-body text-center">
                                    <h5>Average Order</h5>
                                    <h3>${analytics.summary.averageOrderValue}</h3>
                                    <i class="fas fa-chart-line" style="font-size: 2rem; opacity: 0.3;"></i>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-4">
                            <div class="card" style="background-color: var(--warning-color); color: white;">
                                <div class="card-body text-center">
                                    <h5>Products Sold</h5>
                                    <h3>${analytics.topProducts.reduce((sum, p) => sum + p.total_sold, 0)}</h3>
                                    <i class="fas fa-box" style="font-size: 2rem; opacity: 0.3;"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col-md-6 mb-4">
                            <div class="card">
                                <div class="card-body">
                                    <h5><i class="fas fa-trophy"></i> Top Selling Products</h5>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Product</th>
                                                <th>Sold</th>
                                                <th>Revenue</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            ${analytics.topProducts.slice(0, 5).map(p => `
                                                <tr>
                                                    <td>${p.name}</td>
                                                    <td>${p.total_sold}</td>
                                                    <td>${p.revenue}</td>
                                                </tr>
                                            `).join('')}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 mb-4">
                            <div class="card">
                                <div class="card-body">
                                    <h5><i class="fas fa-chart-pie"></i> Orders by Status</h5>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Status</th>
                                                <th>Count</th>
                                                <th>Total</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            ${analytics.ordersByStatus.map(s => `
                                                <tr>
                                                    <td>
                                                        <span class="order-status ${s.status}">
                                                            ${s.status.toUpperCase()}
                                                        </span>
                                                    </td>
                                                    <td>${s.count}</td>
                                                    <td>${s.total}</td>
                                                </tr>
                                            `).join('')}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            } catch (error) {
                showAlert('Failed to load analytics', 'danger');
            }
        }
    </script>
</body>
</html>